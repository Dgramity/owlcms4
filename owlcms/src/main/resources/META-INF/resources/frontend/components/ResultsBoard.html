<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-if.html">

<dom-module id="results-board-template">
<template>
<style>
* {
	box-sizing: border-box;
}

.startNumber span {
	border-width: 0.2ex;
	border-style: solid;
	border-color: red;
	width: 1.5em;
	display: flex;
	justify-content: center;
}

.down {
	grid-area: down-start/down-start/down-end/down-end;
	align-self: stretch;
	justify-self: stretch; -
	-iron-icon-height: 100%; -
	-iron-icon-width: 100%;
	font-weight: normal;
	color: lime;
	display: none;
	overflow: hidden;
}

.blink_me {
	animation: blinker 1s linear infinite;
}

@
keyframes blinker { 50% {
	opacity: 0;
}
}
</style>

<div>
<div class="attemptBar">
	<div class="lastName">[[lastName]], [[firstName]]</div>
	<div class="teamName">[[teamName]]</div>
<!-- 	<div class="startNumber"> -->
<!-- 		<span>[[startNumber]]</span> -->
<!-- 	</div> -->
<!-- 	<div class="attempt">[[attempt]]</div> -->
<!-- 	<div class="weight"> -->
<!-- 		[[weight]]<span style="font-size: 75%">kg</span> -->
<!-- 	</div> -->
<!-- 	<div class="timer" id="timerDiv"> -->
<!-- 		<timer-element id="timer"></timer-element> -->
<!-- 	</div> -->
<!-- 	<div class="decision" id="decisionDiv" on-down="down" on-hide="reset"> -->
<!-- 		<decision-element id="decisions"></decision-element> -->
<!-- 	</div> -->
</div>
<table>
	<thead>
		<tr>
			<th class="narrow" style='text-align: center'>Départ<div class='english'>Start</div></th>
			<th>Nom<div class='english'>Name</div></th>
			<template is="dom-if" if="[[g.isMasters]]">
				<th><nobr>Gr. Age.</nobr><div class='english'><nobr>Age Gr.</nobr></div></th>
			</template>
			<th class="cat">Cat.</th>
			<th class='weight'>P.C.<div class='english'>B.W.</div></th>
			<th class='club'>Équipe<div class='english'>Team</div></th>
			<th colspan="3">Arraché<div class='english'>Snatch</div></th>
			<th colspan="3">Épaulé-jeté<div class='english'>Clean&amp;Jerk</div></th>
			<th>Total</th>
			<th class="cat" style='text-align: center'>Rang<div class='english'>Rank</div></th>
		</tr>
	</thead>
</table>

<div>
	<div>[[t.key1]]</div>
	<template is="dom-repeat" id="result-table" items="[[athletes]]" as="item">
		<div>
			<span>[[item.lastName]], [[item.firstName]]</span>
			<span>[[item.teamName]]</span>
			<template is="dom-if" if="[[_isEqualTo(item.teamName, 'NORTH')]]"><span> We The </span></template>
			<span></span>
		</div>
	</template>
</div>
</div>
</template>
<script>
     class Results extends Polymer.Element {
         static get is() {
             return 'results-board-template'
         }
         
         ready() {
       	  super.ready();
       	  console.warn(this.lastName);
       	  console.warn(this.athletes.length);
       	  console.warn(Object.keys(this.athletes));
       	  console.warn(this.t);
       	  console.warn(this.t.key1);
   		  //this.reset();
         }
         
         start() {
         	this.$.timer.start();
         }
         
         reset() {
         	this.$.timer.reset();
         	this.$.timerDiv.style.display="block";
         	this.$.barbellDiv.style.display="block";
         	this.$.decisionDiv.style.display="none";
         }
         
         down() {
         	this.$.timerDiv.style.display="none";
         	this.$.barbellDiv.style.display="none";
         	this.$.decisionDiv.style.display="block";
         }
         
         _isEqualTo(title, string) {
        	return title == string;
         }
     }
     customElements.define(Results.is, Results);
 </script>
 </dom-module>
